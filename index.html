<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMony - Finanzas Personales Inteligentes</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Onboarding: Selecci√≥n de Categor√≠as -->
    <div id="onboarding-screen" class="screen active">
        <div class="container">
            <h1 class="screen-title">Elige tus categor√≠as</h1>
            <p class="screen-subtitle">Selecciona las categor√≠as que m√°s uses</p>

            <div class="categories-grid" id="categories-grid">
                <!-- Las categor√≠as se generar√°n din√°micamente -->
            </div>

            <div class="add-category-section">
                <input type="text" id="new-category-input" placeholder="A√±adir categor√≠a" class="category-input">
                <button id="add-category-btn" class="add-btn">+</button>
            </div>

            <button class="primary-btn" id="save-categories-btn">‚Üí Guardar</button>
        </div>
    </div>

    <!-- Pantalla de Entrada por Voz -->
    <div id="voice-screen" class="screen">
        <div class="container">
            <h1 class="screen-title">Entrada de voz</h1>
            <p class="screen-subtitle">Agrega transacciones con tu voz autom√°ticamente</p>

            <div class="voice-container">
                <div class="voice-circle-wrapper">
                    <div class="voice-circle" id="voice-circle">
                        <div class="microphone-icon" id="mic-icon">üé§</div>
                    </div>
                    <div class="pulse-ring" id="pulse-ring"></div>
                </div>

                <div class="transaction-preview" id="transaction-preview">
                    <div class="preview-emoji" id="preview-emoji">üí∞</div>
                    <div class="preview-text" id="preview-text">Toca el micr√≥fono para comenzar</div>
                </div>

                <div class="voice-transcript" id="voice-transcript"></div>

                <div class="voice-examples">
                    <p class="examples-title">Prueba decir:</p>
                    <div class="example-chip">"Gast√© 500 en hamburguesa y 200 en uber"</div>
                    <div class="example-chip">"Pantal√≥n 800 y zapatos 600"</div>
                </div>
            </div>

            <div class="language-selector">
                <span class="flag">üá≤üáΩ</span>
                <span>Idioma</span>
                <button id="change-language-btn" class="text-btn">Cambiar</button>
            </div>

            <button class="primary-btn" id="continue-btn">‚Üí Continuar</button>
            <button class="secondary-btn" id="skip-voice-btn">Saltar</button>
        </div>
    </div>

    <!-- Pantalla Principal: Dashboard -->
    <div id="dashboard-screen" class="screen">
        <div class="container">
            <!-- Header -->
            <div class="dashboard-header">
                <div class="period-selector">
                    <button id="period-btn" class="period-dropdown">Este mes</button>
                    <span class="divider">en</span>
                    <select id="list-select" class="period-dropdown">
                        <option value="personal" selected>Lista privada</option>
                        <option value="shared">Lista compartida</option>
                    </select>
                </div>
                <button class="settings-btn" id="settings-btn">‚öôÔ∏è</button>
            </div>

            <!-- Balance Total -->
            <div class="balance-section">
                <div class="balance-label">Total</div>
                <div class="balance-amount" id="balance-amount">$0</div>
                <div class="balance-breakdown">
                    <div class="balance-pill expenses" id="expenses-pill">- $0.00</div>
                    <div class="balance-pill income" id="income-pill">$0.00</div>
                </div>
            </div>

            <!-- Gr√°fica de Gastos por Categor√≠a -->
            <div class="chart-section" id="chart-section">
                <div class="chart-container" id="chart-container">
                    <!-- Las barras se generar√°n din√°micamente -->
                </div>
            </div>

            <!-- Categor√≠as Resumen (Horizontal Scroll) -->
            <div class="categories-summary" id="categories-summary">
                <!-- Se generar√° din√°micamente -->
            </div>

            <!-- Secci√≥n de Transacciones -->
            <div class="transactions-section">
                <div class="transactions-header">
                    <h3>Hoy</h3>
                </div>
                <div class="transactions-list" id="transactions-list">
                    <div class="empty-state">
                        <div class="empty-icon">üìä</div>
                        <p>No hay transacciones a√∫n</p>
                        <p class="empty-subtitle">Usa el micr√≥fono para agregar tu primera transacci√≥n</p>
                    </div>
                </div>
            </div>

            <!-- Botones de Acci√≥n -->
            <div class="action-buttons">
                <button class="icon-btn" id="add-manual-btn">
                    <span class="icon">+</span>
                </button>
                <button class="icon-btn" id="search-btn">
                    <span class="icon">üîç</span>
                </button>
                <button class="voice-fab" id="voice-fab">
                    <span class="icon">üé§</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Modal: Agregar Transacci√≥n Manual -->
    <div id="manual-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Nueva transacci√≥n</h2>
                <button class="close-btn" id="close-manual-modal">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Tipo</label>
                    <div class="type-selector">
                        <button class="type-btn active" data-type="expense">Gasto</button>
                        <button class="type-btn" data-type="income">Ingreso</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Monto</label>
                    <input type="number" id="manual-amount" placeholder="0.00" class="form-input">
                </div>
                <div class="form-group">
                    <label>Descripci√≥n</label>
                    <input type="text" id="manual-description" placeholder="Ej: Hamburguesa" class="form-input">
                </div>
                <div class="form-group">
                    <label>Categor√≠a</label>
                    <select id="manual-category" class="form-input">
                        <!-- Se llenar√° din√°micamente -->
                    </select>
                </div>
                <button class="primary-btn" id="save-manual-transaction">Guardar</button>
            </div>
        </div>
    </div>

    <!-- Modal: Reconocimiento de Voz -->
    <div id="voice-modal" class="modal">
        <div class="modal-content voice-modal-content">
            <button class="close-btn" id="close-voice-modal">√ó</button>
            <div class="modal-body">
                <div class="voice-modal-circle" id="voice-modal-circle">
                    <div class="microphone-icon-large">üé§</div>
                </div>
                <div class="voice-modal-status" id="voice-modal-status">Escuchando...</div>
                <div class="voice-modal-transcript" id="voice-modal-transcript"></div>
                <div class="voice-modal-preview" id="voice-modal-preview"></div>
                <div class="detected-transactions" id="detected-transactions"></div>
            </div>
        </div>
    </div>

    <!-- Modal: Configuraci√≥n (Bottom Sheet) -->
    <div id="settings-modal" class="bottom-sheet-modal">
        <div class="bottom-sheet-content">
            <div class="bottom-sheet-handle"></div>
            <div class="bottom-sheet-header">
                <h2>Configuraci√≥n</h2>
                <button class="close-btn" id="close-settings-modal">√ó</button>
            </div>

            <div class="bottom-sheet-body">
                <div class="settings-section-title">Contenido</div>

                <!-- Editar categor√≠as -->
                <div class="settings-item" id="edit-categories-btn">
                    <div class="settings-icon">ü•ë</div>
                    <div class="settings-info">
                        <div class="settings-label">Editar categor√≠as</div>
                        <div class="settings-sublabel">En tu lista actual "Lista privada"</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <!-- Editar etiquetas -->
                <div class="settings-item" id="edit-tags-btn">
                    <div class="settings-icon">#</div>
                    <div class="settings-info">
                        <div class="settings-label">Editar etiquetas</div>
                        <div class="settings-sublabel">En tu lista actual "Lista privada"</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <!-- Lista de transacciones recurrentes -->
                <div class="settings-item" id="recurring-transactions-btn">
                    <div class="settings-icon">üîÑ</div>
                    <div class="settings-info">
                        <div class="settings-label">Lista de transacciones recurrentes</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <!-- Tus listas -->
                <div class="settings-item" id="your-lists-btn">
                    <div class="settings-icon">üìù</div>
                    <div class="settings-info">
                        <div class="settings-label">Tus listas</div>
                        <div class="settings-badge">14</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <!-- Compartir lista -->
                <div class="settings-item" id="share-list-btn">
                    <div class="settings-icon">üë•</div>
                    <div class="settings-info">
                        <div class="settings-label">Compartir lista</div>
                        <div class="settings-sublabel">Lista privada</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <!-- Exportar CSV -->
                <div class="settings-item" id="export-csv-btn">
                    <div class="settings-icon">üìä</div>
                    <div class="settings-info">
                        <div class="settings-label">Exportar CSV</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <!-- Importar CSV -->
                <div class="settings-item" id="import-csv-btn">
                    <div class="settings-icon">üì•</div>
                    <div class="settings-info">
                        <div class="settings-label">Importar CSV</div>
                        <div class="settings-sublabel">Actualmente solo se admiten CSVs exportados desde MonAi</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <!-- Idioma de entrada de voz -->
                <!-- Secci√≥n: Idioma y regi√≥n -->
                <div class="settings-section-title">Idioma y regi√≥n</div>

                <!-- Idioma de entrada de voz -->
                <div class="settings-item" id="language-selector-btn">
                    <div class="settings-icon">üé§</div>
                    <div class="settings-info">
                        <div class="settings-label">Idioma de entrada de voz</div>
                        <div class="settings-sublabel" id="current-language-label">Espa√±ol (M√©xico)</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <!-- Moneda -->
                <div class="settings-item" id="currency-btn">
                    <div class="settings-icon">üíµ</div>
                    <div class="settings-info">
                        <div class="settings-label">Moneda</div>
                        <div class="settings-sublabel">$</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <!-- Convertidor de moneda -->
                <div class="settings-item" id="currency-converter-btn">
                    <div class="settings-icon">üìà</div>
                    <div class="settings-info">
                        <div class="settings-label">Convertidor de moneda</div>
                        <div class="settings-sublabel">No hay conversi√≥n autom√°tica activa en este momento.</div>
                    </div>
                </div>

                <!-- Secci√≥n: M√°s -->
                <div class="settings-section-title">M√°s</div>

                <!-- Premium -->
                <div class="settings-item" id="premium-btn">
                    <div class="settings-icon">üíé</div>
                    <div class="settings-info">
                        <div class="settings-label">Premium</div>
                        <div class="settings-sublabel">Activa</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <!-- Apariencia -->
                <div class="settings-item" id="appearance-btn">
                    <div class="settings-icon">üåö</div>
                    <div class="settings-info">
                        <div class="settings-label">Apariencia</div>
                        <div class="settings-sublabel">Define c√≥mo se ve tu app</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <!-- Novedades -->
                <div class="settings-item" id="changelog-btn">
                    <div class="settings-icon">üÜï</div>
                    <div class="settings-info">
                        <div class="settings-label">Novedades</div>
                        <div class="settings-sublabel">1.7.0 (121)</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <!-- Rese√±a -->
                <div class="settings-item" id="review-btn">
                    <div class="settings-icon">‚≠ê</div>
                    <div class="settings-info">
                        <div class="settings-label">¬øTe gusta IMony?</div>
                        <div class="settings-sublabel">¬øNos dejar√≠as una rese√±a? ü•π</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <!-- Notificaciones (Toggle) -->
                <div class="settings-item toggle-item">
                    <div class="settings-icon">üîî</div>
                    <div class="settings-info">
                        <div class="settings-label">Permitir notificaciones</div>
                        <div class="settings-sublabel">Garantizado sin spam</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="notifications-toggle">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <!-- Seguimiento autom√°tico -->
                <div class="settings-item" id="auto-tracking-btn">
                    <div class="settings-icon">ÔøΩ</div>
                    <div class="settings-info">
                        <div class="settings-label">Seguimiento autom√°tico de transacciones...</div>
                        <div class="settings-sublabel">As√≠ funciona</div>
                    </div>
                    <div class="settings-arrow">‚Ä∫</div>
                </div>

                <div class="settings-section-title">Preferencias</div>
            </div>
        </div>
    </div>

    <!-- Modal de Selecci√≥n de Idioma -->
    <div class="bottom-sheet-modal" id="language-modal">
        <div class="bottom-sheet-content">
            <div class="bottom-sheet-handle"></div>
            <div class="bottom-sheet-header">
                <h2>Idioma de entrada de voz</h2>
                <button class="close-btn" id="close-language-modal">√ó</button>
            </div>
            <div class="bottom-sheet-body">
                <div class="language-list" id="language-list">
                    <!-- Los idiomas se generar√°n din√°micamente -->
                </div>
            </div>
        </div>
    </div>

    <!-- Period Selector Modal (Bottom Sheet) -->
    <div id="period-modal" class="modal-overlay">
        <div class="modal-content bottom-sheet">
            <div class="modal-header">
                <h2 class="modal-title">Mes</h2>
                <button class="close-modal-btn" id="close-period-modal">‚úï</button>
            </div>

            <div class="period-type-wrapper">
                <div class="period-type-toggle">
                    <button class="toggle-option active" id="filter-all-time">Todo el tiempo</button>
                    <button class="toggle-option" id="filter-year">2026</button>
                    <!-- Hidden input to store selected year -->
                    <input type="number" id="year-selector" value="2026" style="display:none;">
                </div>
            </div>

            <div class="months-grid" id="months-grid">
                <button class="month-btn" data-month="0">Ene</button>
                <button class="month-btn" data-month="1">Feb</button>
                <button class="month-btn" data-month="2">Mar</button>
                <button class="month-btn" data-month="3">Abr</button>
                <button class="month-btn" data-month="4">May</button>
                <button class="month-btn" data-month="5">Jun</button>
                <button class="month-btn" data-month="6">Jul</button>
                <button class="month-btn" data-month="7">Ago</button>
                <button class="month-btn" data-month="8">Sep</button>
                <button class="month-btn" data-month="9">Oct</button>
                <button class="month-btn" data-month="10">Nov</button>
                <button class="month-btn" data-month="11">Dic</button>
            </div>

            <button class="primary-btn apply-btn" id="apply-period-btn">‚úì Aplicar</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>